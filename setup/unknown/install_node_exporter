#/bin/bash

#
# curl https://raw.githubusercontent.com/WALL-E/static/master/setup/unknown/install_node_exporter | bash
#
# wget https://raw.githubusercontent.com/WALL-E/static/master/setup/unknown/install_node_exporter -O install_node_exporter
#
# node_exporter
#
# 1. download
# 2. systemd


role=`id -u`
if test $role -ne 0
then
    echo "You install Docker which requires root privileges"
    exit 1
fi


VERSION=1.2.2

cd ~

if [ ! -f "/usr/local/bin/node_exporter" ]
then
    wget https://github.com/prometheus/node_exporter/releases/download/v${VERSION}/node_exporter-${VERSION}.linux-amd64.tar.gz
      
    tar zxvf node_exporter-${VERSION}.linux-amd64.tar.gz
    mv node_exporter-${VERSION}.linux-amd64/node_exporter /usr/local/bin/
    node_exporter --version
    
    rm -f node_exporter-${VERSION}.linux-amd64.tar.gz
    rm -rf node_exporter-${VERSION}.linux-amd64/
fi

ll /usr/local/bin/node_exporter

node_exporter --version
